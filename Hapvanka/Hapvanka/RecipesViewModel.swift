//
//  RecipesViewModel.swift
//  (name)
//
//  Created by Stoyan Nikolov on 20.05.24.
//

import SwiftUI

class RecipesViewModel: ObservableObject {
    typealias Recipe = Recipes<String>.Recipe
    private static let texts: Array<String> = [
        " ",
        " ",
        " ",
        "Свинското месо се нарязва на парчета и се запържва. Когато омекне, се добавя нарязаният на ситно лук и леко се задушава.\nНалива се необходимото количество вода. Посолява се на вкус и се прибавят нарязаните картофи, моркови и чушки.\nКогато картофите омекнат, се слагат фидето и супата се подправя с червен пипер и чубрица.\nОставя се да поври на среден огън до готовност на всички продукти. Готовата супа се поръсва с накълцан магданоз и се сервира.",
        "Агнешките дреболии се нарязват на ситно и се сваряват.\nВ тиган в олиото се задушват нарязаните на кубчета моркови, лук и чушка. Щом омекнат, към тях се добавят агнешките дреболии. Заливат се с вода и се варят за 10-12 минути.\nПрибавя се оризът и се оставя да поври, докато той омекне.\nДжодженът се наситнява и заедно с ригана, чубрицата и червения пипер се добавя към супата. Разбърква се и се овкусява със сол и черен пипер.\nВ купа се разбива яйцето с киселото мляко и се добавя към супата, за да я застрои. След 2-3 минути се сваля от огъня.",
        "Лукът, чесънът и морковите се нарязват на ситно, а картофите и тиквичките на кубчета.\nВ дълбока тенджера се загряват зехтинът и маслото и се задушават лукът и морковите.\nСлед 2-3 минути се добавят тиквичките и картофите и се заливат с вода. Варят се 20-25 минути, докато омекнат картофите.\nСупата се овкусява със сол, пипер и счукания чесън. Сваля се от огъня и щом поизстине, се добавя прясното мляко и се пасира.\nСервира се поръсен с крутони и копър.",
        "Пилешкото месо се нарязва на парченца и се сварява с водата и корените за кратко. Отстранява се пяната от бульона. Изваждат се месото и корените и течността се прецежда. Слага се отново на огъня и щом кипне, се добавя фидето и оризът. Посолява се.\nВръщат се месото и счуканите корени. Супата се вари, докато фидето омекне.",
        "Tелешката кайма се оформя на топчета, които се овалват в брашно.\nЛукът се нарязва на ситно и се задушава със сгорещения зехтин. Налива се гореща вода. Прибавят се нарязаните на ситно картоф, морков, зелена чушка. Супата се посолява.\nЩом заври, се слагат топчетата от каймата и ястието ври, докато те станат готови и изплуват на повърхността. Тогава се слага и измитият ориз. Супата ври 7-8 минути, докато той стане готов.\nЯйцето се разбива с киселото мляко. В тази застройка се налива постепенно от бульона, като непрекъснато се бърка, за да не се пресече яйцето. Застройката се налива в супата при непрекъснато бъркане и тенджерата се снема от котлона. Ястието се подправя с черен пипер и ситно нарязан пресен магданоз. Поднася се горещо.",
        "Измиваме, отцеждаме и нарязваме къдравата салата в купа.\nОбелваме краставицата и я нарязваме на тънки полукръгчета при зелената салата.\nНарязваме вътре и лука на дребно.\nПосоляваме, добавяме зехтина, оцета, разбъркваме и изсипваме в купа за сервиране.\nОтгоре разпределяме рибата тон и поставяме двете обелени сварени яйца.\nПоръсваме с наситнен копър и поливаме с винегрета.\nСервираме зелената салата с риба тон и цели яйца веднага.",
        "Картофите се сваряват в подсолена вода, обелват се и се нарязват на средни по големина кубчета. Докато са още горещи, към тях се прибавя маслото и се разбърква, за да се разтопи. В салатата се прибавят нарязан на тънки полумесеци лук, ситно нарязан пресен магданоз и сол. Разбърква се старателно и се сервира.\nПо желание салатата се овкусява с малко оцет или лимонов сок. Тя е идеална гарнитура към риба, кюфтета или печено месо.",
        "Смесва се млякото с рендосаните краставици, смлените чесънчета, смлените орехи, сол и олио.\nДекорира се със смлени орехи, краставица и ивички морков.",
        " ",
        "В тенджера с 2 л. вода слагаме 1.5 чаена лъжичка сол и я поставяме да ври. Картофите се обелват и се нарязват на малки кубчета. Изсипват се, да се сварят във вече кипналата вода. Варенето трае около 20 минути.\nВ това време се занимаваме с морковите. Те се остъргват, нарязват се на по 2-3 филийки по дължината и се слагат да врат в малък съд, където има чаша и половина вода, щипка сол, щипка захар и бучица масло, колкото лешник. Врат на бавен огън също около 20 минути.\nПрецеждаме сварените картофи през гевгир и ги оставяме да изстинат.\nОтново кипваме около литър вода с малко сол. Щом тя заври, изсипваме в нея замразения грах (без да сме го размразявали! )\nНарязваме сварените морковите също на кубчета и ги изсипваме в голям съд, където ще забъркваме цялата салата.\nНа кубчета нарязваме шунката и яйцата. Ябълката настъргваме на едро ренде.\nДобавяме към смесените вече компоненти много добре изстиналите картофи. Най-накрая добавяме майонезата и разбъркваме.",
        "Измийте свежите зелени листа от валериана и рукола. Хубаво ги отцедете и сложете в купа.\nКъм тях добавете плодчетата физалис почистени от шушулките, измити и разполовени.\nСложете на котлона да загрява малък тиган с незалепващо покритие. Докато загрее, си овкусете зелената салатка със зехтин, сол и балсамов оцет.\nСипете няколко капки зехтин в нагорещения тиган и запечатайте козето сирене до златисто от двете страни.\nНамажете го с мед и сложете върху зелената салата. Поръсете със семена, балсамова редукция и още малко зехтин.\nПоднесете тази разкошна салата веднага, докато сиренето на тиган е още топло.",
        "Нарежете доматите и моцарелата на тънки колелца и ги подредете в голяма плоска чиния, като редувате домат-моцарела.\nУкрасете салатата със свежи босилекови листа и поръсете с малко сух босилек. Полейте със зехтин и балсамов оцет, поръсете с малко сол и поднесете.\nПо желание може да полеете салатата Капрезе с домашно песто, приготвено от пасираните босилек, зехтин, оцет и сол, вместо да ги слагате отделно.",
        "Айсбергът и марулята се накъсват на парченца (не по-големи от кибритена кутийка) и се слагат в салатна чиния. Посипва се с царевицата.\nОтгоре в кръг се нареждат парчетата изпечено пилешкото филе, нарязано на тънки резени, най-отгоре се слага пармезанът, отстрани 2-3 бр. чери домати и се поръсва със шепа крутони.\nСалатата се полива със сос Цезар.\nЗа него дресингът се приготвя от 1 суров жълтък, 1 ч.л. дижонска горчица, 1 скилидка пресован чесън, 1 супена лъжица зехтин, 1 супена лъжица пармезан, сока от 1/2 лимон и сос Уорчестър.\nПо желание може да се добавят и две три филенца наситнена маринована аншоа към вашата Цезар салата.",
        "На дъното на чинията се слага първо обелената и нарязана на кубчета краставица, след това доматите, чушките, също нарязани на кубчета, и отгоре се рендосва сиренето.\nШопската салата се поръсва със ситно нарязан магданоз и се украсява с маслинка.\nЛукът се нарязва на ивици и се поставя от едната страна на салатата, а от другата - печената люта чушка.\nПодправя се със сол, оцет и олио.",
        "Свинското месо се нарязва на хапки, лукът - на полумесеци, а празът - на колелца.\nМесото и лукът се задушават в малко олио за 6-7 минути. След това се добавя вода, колкото да покрие месото и задушаването продължава на умерен огън, до полуомекване на свинското.\nПрибавят се червеното вино, брашното, размито в доматеното пюре и подправките.\nКебапът се вари до готовност, като от време на време се разбърква. Сервира се с гарнитура от сварен ориз, овкусен с масло.\nЯстието се сервира горещо, поръсено със ситно нарязан магданоз.",
        "С остър нож се правят няколко надлъжни разреза по джолана и по тях се разтваря месото. Джоланът се слага заедно с нарязаните лук и картофи, скилидките чесън и виното в гювеч. Овкусява се с черен пипер и сол, и се захлупва.\nГювечът се пече на умерена фурна за около час и половина, докато картофите и месото омекнат напълно.",
        "Свинските пържоли се начукват, натъркват се със сол и черен пипер и се поливат със соев сос. Оставят се за половин час в хладилник да се мариноват.\nВ дълбок тиган с незалепващо покритие се загрява маслото и свинските пържоли се запържват на силен огън за минута от двете страни. След това се налива бялото вино, огънят се намалява и тиганът се похлупва с капак. Ястието се оставя да се задуши, докато виното се изпари.\nСлед това се добавя водата и задушаването продължава още половин час. После пържолите се изваждат и се преместват в съд с капак, където се оставят на топло.\nВ тигана се задушават гъбите, нарязани на филийки, като в тигана от задушаването на пържолите следва да е останала течност, в която гъбите да се готвят. Те се захлупват и се задушават за десет минути. Овкусяват се със сол и черен пипер и се заливат с разтвореното в малко вода брашно. Бъркат се, добавят се пържолите към тях и ястието се оставя за още десет минути под капак да се задуши.",
        "Каймата се омесва със ситно нарязаните лук и магданоз, накиснат в млякото и изстискан хляб, яйцето и черния пипер. От сместа се оформят кюфтета, които се овалват в брашното и се полуизпържват в смесената мазнина.\nВ същата мазнина се задушават нарязаните на кубчета морков и целина. Разбъркват се с останалото брашно, доматено пюре и червения пипер. Разрежда се с гореща вода и се оставя да кипне. Прибавят се нарязаните на парченца пиперки, нарязаните на кубчета картофи и кюфтетата.\nЯстието се посолява и се запича във фурната. Поръсва се със ситно нарязаните домати и се допича. При сервиране яхнията се поръсва със ситно нарязания магданоз.",
        "Фурната се загрява на 190 градуса.\nПо кожата на пилешките бутчета се правят разрези и се натриват с чили пастата. Поставят се в тава за печене и около тях се разпределят скилидки чесън, резени лимон, домати, картофи и маслини.\nЯстието се полива с малко мазнина и се подправят със сол и черен пипер на вкус. Готви се във вече загрятата фурна за около 45 минути до час до готовност на месото.",
        "Картофите се измиват, обелват и нарязват на малки кубчета.\nЛукът се нарязва на ситни кубчета и се задушава в олиото до омекване. Прибавя се каймата и се пържи 5-6 минути, докато се позлати, като периодично се разбърква. Накрая се прибавят настърганите домати, ситно нарязаният пресен магданоз и подправките, и се оставя да къкри още няколко минути.\nСместа от запържената кайма се прибавя към картофите и всичко се изсипва в тавичка. Залива се с вода почти до нивото на картофите и се поставя във фурна. Пече се на 180 градуса, до извирането на течността, около 40 минути.\nПриготвя се заливка, като за целта се разбиват яйцата, киселото мляко, содата и солта. В края на готвенето, мусаката се залива със застройката и се връща във фурната за още 10-15 минути. Трябва да се внимава, да не загори капака на мусаката, а да стане златист, пухкав и апетитен.",
        "Пъстървите се почистват от вътрешностите и хрилете, както и от люспите. След това се измиват много добре и се оставят да се отцедят. По кожата на рибата се правят леки прорези.\nПоловината лимон се изстисква, другата - нарязва. Чесънът се накълцва. Рибата се поръсва с кимион, черен пипер, сол, лимонов сок и олио.\nВ коремите се слагат парченца чесън и няколко стръкчета копър. Пъстърва се слага върху лист хартия за печене и върху тея се нареждат резени лимон. Завиват се на пакетчета и се слагат в тавата.\nПекат се около 25 минути на 200 градуса. След това хартията се отваря, лимоните се отстраняват и пъстървите се запичат за още около 5 минути до апетитен загар.",
        "Бананите се намачкват на пюре. Прибавят се яйцата, захарта, маслото и ванилията. Брашното се смесва с бакпулвера и една щипка сол. Добавя се банановата смес и много добре се разбърква. Сместа се изсипва във форма и се пече 45-50 минути в предварително загрята на 180 градуса фурна.",
        "Брашното се пресява и се смесва със солта, захарта, мекото масло и разтворената в 2/3 от водата мая. Всичко се омесва и при нужда се добавя още вода. Тестото се покрива с фолио и се оставя да втаса за един час.\nСлед това се размесва отново, връща се в купата и се оставя за още един час в хладилник.\nТрети път се размесва и отново се прибира в хладилник за още половин час.\nОстаналото масло, още докато е студено се разпределя между два плата фолио. Разточва се с точилка. Тестото също се разточва. Разточеното масло се слага в едната част на тестото.\nСгъването се прави по следния начин: започва се от горната част, която не е покрита с масло и тя се прегъва върху маслото. След това се прегъва лявата страна към средата и накрая към другата 1/3 от тестото, като по този начин се захлупва. Разточва се на правоъгълник и тази техника отново се повтаря.\nТестото се прибира в хладилник за 30 минути, увито във фолио.\nОтново се разточва и се прегъва три пъти по описаната техника. След това отново се оставя да престои за 30 минути в хладилник и последен път се прегъва. Тестото се оставя за една вечер в хладилник или поне за един час.\nРазточва се, докато стане с дебелина около 3 мм. Изрязват се триъгълници, които се завиват от основата към върха във формата на кроасан.\nНареждат се в тава, покрита с хартия за печене и се оставят да втасат за около час и половина. След това се пекат на умерена фурна до златист загар.",
        "Брашното се пресява и се прави кладенче. В него се слагат погасената в оцета сода, солта и олиото, и при бавно добавяне на хладката вода се замесва меко тесто.\nОставя се да почива 10 минути. В намазана с олио тавичка с ръце се оформя питка. Тя се намазва с олио и се пече 30-35 минути на 180 С.\nАко искате да направите украса върху питката, отделете малко тесто, преди да я оформите. След това украсете по желание, намажете с олио и изпечете.\nКогато се извади от фурната, питката се напръсква с вода и се завива с кърпа, за да омекне.",
        "Яйцата се разбиват в дълбока купа и след това към тях се добавят киселото мляко и содата. Отново се разбива. После се добавят олиото и натрошеното сирене и сместа се разбърква старателно.\nВ намазана с олио тавичка се редуват готови кори за баница и няколко лъжици от плънката. Важно е плънката да се разпредели така, че баницата да не остане суха в краищата си.\nТова се прави до изчерпване на количествата, като баницата се завършва с ред от заливката. Пече се в предварително загрята до 180 градуса фурна за около 30 до 45 минути. След като се извади от фурната, се напръсква с малко студена вода, покрива се с вестник и кърпа и се оставя за 5 минути. След това се реже на парчета и се сервира.",
        "Сухата мая, зехтинът, солта и захарта се разтварят в гореща вода. Сместа се разбърква и се оставя за 5 минути на страна, като се покрива.\nБрашното се изсипва в купа и се смесва с активираната мая. Тестото се омесва и се покрива с кърпа. Оставя се да втаса на топло за около час. След това готовото тесто за пица се разстила в намазнена тава и се поръсва с плънка по желание.",
        "Фурната се загрява на 180 градуса. Правоъгълна форма се намазва с масло, като може да използва и кокосово.\n4/5 от шоколада се разтопява заедно с маслото на водна баня, като се разбърква периодично. Когато сместа стане хомогенна, се сваля от котлона и се оставя да се охлади за около 10 минути.\nПрез това време заедно се разбиват захарта, яйцата и щипка сол. Сместа трябва да се разпени и да стане бледа. Отнема около 2 до 3 минути с миксер. Към нея се добавят сместа с маслото и шоколада и смлените бадеми.\nВсичко се разбърква заедно до получаване хомогенна смес. След това се прехвърля във формата и отгоре се разпределя останалият нарязан на малки парченца черен шоколад.\nБраунито се пече около 25 минути в загрятата фурна. След това се оставя да изстине за поне 10 минути преди да се разреже на парчета.",
        "Фурната се загрява на 180 градуса. В голяма купа се разбиват маслото и захарта, докато се получи лека и пухкава смес. След това се добавят яйцата и ванилията и сместа отново се разбиват.\nВ друга купа се разбъркват брашно, бакпулвер, содата бикарбонат и сол. Сухата смес, на части и при непрекъснато бъркане, се добавя към течната. Накрая се слага натрошеният на парченца шоколад, като може да се използва и шоколадов чипс.\nТава се покрива с хартия за печене. Тъй като се получава по-голямо количество, ще се наложи бисквитките да се пекат на партиди.\nСъс супена лъжица се взима от сместа и се оформят бисквитки на около 7 сантиметра разстояние една от друга. Сплескват се леко и се пекат от 10 до 12 минути или до лек златист загар. След това се изваждат от тавата и се оставят да се охладят върху метална решетка.",
        "Първо се приготвя парено тесто. Водата се поставя в дълбока тенджера и се оставя на котлона да заври. След това към нея се добавят захарта, лимонената киселина, маслото и солта. Разбърква се добре и се добавя брашното. Бърка се отново, докато сместа стане хомогенна и започне да се отделя от съда. Оставя се леко да се охлади и към нея се добавят яйцата. Разбърква се до получаването на гладка смес.\nСиропът се приготвя като се смесват водата, захарта и ванилията, и се оставят да заврат и да се сгъсти сместа. В дълбок тиган се нагрява олио на умерен огън и в него се шприцоват толумбичките. Важно е огънят да не бъде много силен, за да не останат толумбичките сурови отвътре. След като се изпържат, се изваждат, потапят се за кратко в сиропа и се изваждат с решетъчна лъжица. Оставят се леко да се охладят и се заливат с вече изстиналия сироп.",
        "Содата се слага в киселото мляко и се разбърква. Прибавят се сол, захар, олиото и водата.\nСместа се разбърква добре и се прибавят разбитите яйца. След това постепенно и при непрекъснато бъркане се добавя брашното.\nСместа за палачинките се разбърква до хомогенност. Оставя се да престои около 10 минути и след това се изпичат малки американски палачинки в загрят тиган.\nПалачинките се пекат от двете страни до златист цвят.",
        "Захарта се карамелизира с няколко лъжици вода и се слага на дъното на тава. Разстила се равномерно.\nЯйцата, захарта и ванилията се разбиват с вилица или с миксер и постепенно към тях се добавя прясното мляко.\nСместа се изсипва при карамела и тавата се поставя в студена фурна. Пече се за около 50 минути на 120-130 градуса.",
        "В голяма купа се смесват бадемовото брашно, бадемовото мляко и кокосовото масло. Сместа се прехвърля във форма за торта с падащо дъно и се притиска добре, така че да се оформи блат. Оставя се в хладилника за 30 минути.\nВ малка купа се слага желатинът и се разтваря с водата. В купа се разбиват кремът, сиренето, бадемовото мляко и кокосовата захар. Към крема се добавя желатинът и отново се разбърква. След това се слага матчата, предварително разбъркана в малко вода.\nКремът отново се разбърква, докато стане с хомогенен цвят и се разпределя върху приготвения блат. Отгоре се поръсва с още малко матча на прах и чийзкейка се оставя в хладилника да стегне.",
        "Всички продукти се разбиват с миксер последователно, като най-напред се разбивта захарта и яйцата, след това към тях се прибавят сухите съставки, олиото и ванилията. Накрая се прибавят смлените орехи и сладкото от боровинки. Сместа се разбърква с лъжица и се изсипва в намазана с олио и посипана с брашно форма за кекс. Десертът се пече до готовност в предварително загрята на 180 градуса фурна. Разрязва се след като е напълно охладен."]

    
    private static let names: Array<String> = ["Гирос с патладжан\n и марули", "Салата капрезе за\n гладници", "Пълнени чушки с\n кайма", "Бистра супа със \nсвинско месо", "Агнешка дроб \nчорба", "Крем супа от \nтиквички", "Пилешка супа\n", "Супа топчета\n", "Зелена салата с \nриба тон", "Картофена салата\n", "Салата Снежанка\n", "Овчарска салата\n", "Руска салата  \n","Салата с козе \nсирене" ,"Салата Капрезе\n", "Салата Цезар \n", "Шопска салата \n", "Винен кебап   \n", "Печен свински \nджолан с каротфи", "Крехки свински \nпържоли", "Кюфтета по    \nчирпански", "Пикантни печени \nпилешки бутчета", "Мусака         \n", "Печена пъстърва \nв хартия", "Бананов хляб      \n", "Домашни френски \nкроасани", "Постна содена \nпитка", "Пухкава баница\n", "Тесто за пица  \n", "Брауни сладкиш", "Бисквитки с \nпарченца шоколад", "Толумбички      \n", "Американски \nпалачински", "Крем карамел\n", "Матча чийзкейк\n", "Бърз кекс с орехи\n"]
    
    private static let images: Array<String> = ["Gyro", "Salad", "StuffedPeppers","supa-ot-svinsko-meso-i-soev-sos-1200x819","agneshka-drob-chorba-po-selski", "059b_krem_supa_ot_tikvichki", "315311.1024x576", "supa-topcheta-010b", "0971231001600711868_1501871_920x708", "AdobeStock_212035616-scaled", "145409_GreekTzatziki_ddmfs_3x4_3903-1475fff213ec4190bb847213c7b5011a", "don-vito-26-1077","0146393001671012722_1895421_920x708", "Salad-with-pickled-pears-and-goat-cheese", "01072020-522", "220905_DD_Chx-Caesar-Salad_051", "1200zx628_Shopska-salata", "vinen_kebap", "svinski-dzholan-v-gyuvech-01", "lesni-svinski-parzholi-na-furna-1", "kufteta-po-chirpanski-na-furna-1", "pileshki", "musaka_1392", "Pastarva_praz_domati_Manchev_1440_495", "bananov_hlqb_2", "kroasani6", "sodena_pitka", "103a_banitsa", "testopizzaitalian2", "bananovo-brauni-02", "10813-best-chocolate-chip-cookies-mfs-146-4x3-b108aceffa6043a1ac81c3c5a9b034c8", "tolumbi", "1066_American-Pancakes-1-scaled", "krem_karamel", "matcha-cheesecake", "keks"]
    
    private static let filters: Array<Recipes<String>.Filter> = [Recipes<String>.Filter.fastfood, Recipes<String>.Filter.salad, Recipes<String>.Filter.main, Recipes<String>.Filter.soup, Recipes<String>.Filter.soup, Recipes<String>.Filter.soup, Recipes<String>.Filter.soup, Recipes<String>.Filter.soup, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.salad, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.main, Recipes<String>.Filter.bread, Recipes<String>.Filter.bread, Recipes<String>.Filter.bread, Recipes<String>.Filter.bread, Recipes<String>.Filter.bread, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert, Recipes<String>.Filter.dessert]
    
    private static func createRecipes() -> Recipes<String> {
        Recipes<String>(names: names, images: images, filters: filters, texts: texts)
    }
    
    @Published private var menu = createRecipes()
    
    var recipes: Array<Recipe> {
        menu.recipes
    }
    
    var chosenRecipes: Array<Recipe>{
        menu.chosenRecipes
    }
    
    var isSearching: Bool {
        menu.isSearching
    }
    
    var isFiltering: Bool {
        menu.isFiltering
    }
    
    var isCarting: Bool {
        menu.isCarting
    }
    
    // MARK: Intents
    func addRecipe(_ recipe: Recipe) {
        menu.addRecipe(recipe)
    }
    
    func showMoreDetails(_ recipe: Recipe) {
        menu.showMoreDetails(recipe)
    }
    
    func search() {
        menu.search()
    }
    
    func filter() {
        menu.filter()
    }
    
    func cart() {
        menu.cart()
    }
    
    func clear() {
        menu.clear()
    }
    
    func clearRecipe(_ recipe: Recipe) {
        menu.clearRecipe(recipe)
    }
}
